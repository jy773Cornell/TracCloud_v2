"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[5552],{6931:(e,t,a)=>{a.d(t,{c:()=>r});const r={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"}},5552:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var r=a(1504),i=a(3964),s=a(6060),n=a(1940),c=a(3628),d=a(6931);const o=(0,s.c)(n.c)((({theme:e})=>({margin:"15px 15px",backgroundColor:c.c[500],"&:hover":{backgroundColor:c.c[700]}})));(0,s.c)(n.c)((({theme:e})=>({margin:"15px 15px",backgroundColor:d.c[500],"&:hover":{backgroundColor:d.c[700]}})));var p=a(3704),l=a(5678),u=a(8900);const m=(0,r.lazy)((()=>Promise.all([a.e(5984),a.e(5343),a.e(128),a.e(5156),a.e(3604),a.e(3448),a.e(4660),a.e(9730),a.e(6804),a.e(7232),a.e(5128)]).then(a.bind(a,5128)))),h=(0,r.lazy)((()=>Promise.all([a.e(5984),a.e(5343),a.e(128),a.e(5156),a.e(3604),a.e(3448),a.e(4660),a.e(1572),a.e(1228)]).then(a.bind(a,1228)))),f=(0,r.lazy)((()=>Promise.all([a.e(5984),a.e(5343),a.e(128),a.e(3604),a.e(3448),a.e(4660),a.e(9730),a.e(8852),a.e(9352)]).then(a.bind(a,2470)))),y=(0,r.lazy)((()=>Promise.all([a.e(5343),a.e(9880)]).then(a.bind(a,9880)))),g=(0,l.QT)((function(e){const t=e.uid,a=e.employerID,s=e.privilege,{sprayCardStore:n}=(0,u.o)(),[c,d]=r.useState({}),[l,g]=r.useState({}),[S,b]=r.useState(!1),[C,_]=r.useState(!1),[$,w]=r.useState(!1),[k,E]=r.useState(null),[O,v]=(0,r.useState)(!1),R={uid:t,addSprayCard:C,setAddSprayCard:_,sprayData:c,sprayOptions:l,refreshRecord:O,setRefreshRecord:v,setAssignSprayCard:w,setSprayCardSelected:E,privilege:s},x={uid:t,sprayData:c,sprayOptions:l,assignSprayCard:$,setAssignSprayCard:w,sprayCardSelected:k,refreshRecord:O,setRefreshRecord:v},A={uid:t,refreshRecord:O,sprayCardSelected:k,setSprayCardSelected:E,sprayData:c,sprayOptions:l},D={uid:t,sprayData:c,sprayCardSelected:k,sprayOptions:l,setAssignSprayCard:w,refreshRecord:O,setRefreshRecord:v,privilege:s};return(0,r.useEffect)((()=>{(async()=>{const e=await n.getSprayData(t,a);d(e.record_data),g(e.option_data),b(!0)})()}),[]),r.createElement("div",null,r.createElement(o,{variant:"contained",startIcon:r.createElement(p.c,null),disabled:!S||!s.spraycard_c,onClick:()=>_(!0)},"Add Spray Card Process"),r.createElement("div",{style:{margin:"0px 15px"}},r.createElement(i.cp,{container:!0,spacing:2},r.createElement(i.cp,{item:!0,xs:6},r.createElement(f,A)),r.createElement(i.cp,{item:!0,xs:6},r.createElement(y,D)))),r.createElement(m,R),r.createElement(h,x))}))},8900:(e,t,a)=>{a.d(t,{o:()=>p});var r=a(1504),i=a.n(r),s=a(420);const n=["Row","Hole Code#","Section","Block"],c=new class{async getSprayData(e,t){const a={method:"GET",headers:{"Content-Type":"application/json"}},r=(await Promise.all([fetch("/api/crop/list/get/?uid="+t,a),fetch("/api/site/list/get/?uid="+t,a),fetch("/api/chemical/list/get/?uid="+t,a),fetch("/api/equipment/list/get/?uid="+t,a),fetch("/api/operation/purchase/list/get/?uid="+t,a),fetch("/api/operation/application/list/get/?uid="+t,a),fetch("/api/crop/category/",a),fetch("/api/operation/application/target/",a),fetch("/api/operation/application/desicisionsupport/",a),fetch("/api/unit/",a),fetch("/api/crop/growthstage/",a),fetch("/workflow/spraycard/assignees/get/?uid="+e+"&employer_id="+t,a)])).map((e=>{if(e.ok)return e.json();throw new Error("Network response was not ok.")})),i=await Promise.all(r),s=e=>{let t=[];for(let a=0;a<e.length;a++){let r={};r={...e[a]},delete r.children,t.push(r),e[a].children&&(t=t.concat(s(e[a].children)))}return t};return{record_data:{cropList:i[0].data,siteList:i[1].data,chemicalList:i[2].data,equipmentList:i[3].data,purchaseList:i[4].data,sprayApplicationList:i[5].data,cropCategory:i[6].data,applicationTarget:i[7].data,decisionSupport:i[8].data,unit:i[9].data,growthStage:i[10].data,assigneeList:i[11].data},option_data:{chemicalOptions:i[4].data.map((e=>{const t=i[2].data.find((t=>t.chemid===e.chemical));return{label:`${t.epa_reg_no} | ${t.trade_name} | $${e.cost_per_unit} per ${t.unit} | ${e.pur_datetime}`,unit:t.unit,cost:e.cost_per_unit,cost_per_unit:`$${e.cost_per_unit} per ${t.unit}`,id:e.prid}})),decisionSupportOptions:i[8].data.map((e=>({label:e.name,id:e.dsid}))),cropOptions:i[0].data.map((e=>({label:`${e.crop} (${e.variety})`,id:e.cid}))),growthStageOptions:i[10].data.map((e=>({label:`${e.name}`,crop_id:e.crop_id,id:e.cgsid}))),targetOptions:i[7].data.map((e=>({label:e.name,id:e.attid}))),siteOptions:s(i[1].data).filter((e=>n.includes(e.type))).map((e=>{let t=e,a=t.name;const r=t.sid,n=t.crop.cid,c=t.crop.ccid,d=`${t.crop.crop} (${t.crop.variety})`,o=t.size,p=t.size_unit;for(;t.parent;)t=s(i[1].data).find((e=>e.sid===t.parent)),a=`${t.name} - ${a}`;return{id:r,label:a,cid:n,ccid:c,crop:d,area:o,unit:p}})),equipmentOptions:i[3].data.map((e=>({label:`${e.name}`,id:e.eid}))),chemicalUnitOptions:i[9].data.filter((e=>"chemical"===e.usage)).map((e=>({label:e.name,id:e.unitid}))),siteUnitOptions:i[9].data.filter((e=>"site"===e.usage)).map((e=>({label:e.name,id:e.unitid}))),assigneeOptions:i[11].data.map((e=>({label:`${e.user} (${e.first_name} ${e.last_name})`,type:e.type,id:e.uid})))}}}constructor(){(0,s.a0)(this)}},d=new class{constructor(){this.sprayCardStore=c}},o=i().createContext(d),p=()=>i().useContext(o)}}]);