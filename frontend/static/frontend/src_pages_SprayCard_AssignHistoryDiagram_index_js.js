/*! For license information please see src_pages_SprayCard_AssignHistoryDiagram_index_js.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["src_pages_SprayCard_AssignHistoryDiagram_index_js"],{"./src/pages/SprayCard/AssignHistoryDiagram/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ AssignHistoryDiagram)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _mui_lab_Timeline__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @mui/lab/Timeline */ "./node_modules/@mui/lab/Timeline/Timeline.js");\n/* harmony import */ var _mui_lab_TimelineItem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @mui/lab/TimelineItem */ "./node_modules/@mui/lab/TimelineItem/TimelineItem.js");\n/* harmony import */ var _mui_lab_TimelineSeparator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @mui/lab/TimelineSeparator */ "./node_modules/@mui/lab/TimelineSeparator/TimelineSeparator.js");\n/* harmony import */ var _mui_lab_TimelineConnector__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mui/lab/TimelineConnector */ "./node_modules/@mui/lab/TimelineConnector/TimelineConnector.js");\n/* harmony import */ var _mui_lab_TimelineContent__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @mui/lab/TimelineContent */ "./node_modules/@mui/lab/TimelineContent/TimelineContent.js");\n/* harmony import */ var _mui_lab_TimelineOppositeContent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @mui/lab/TimelineOppositeContent */ "./node_modules/@mui/lab/TimelineOppositeContent/TimelineOppositeContent.js");\n/* harmony import */ var _mui_lab_TimelineDot__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/lab/TimelineDot */ "./node_modules/@mui/lab/TimelineDot/TimelineDot.js");\n/* harmony import */ var _mui_icons_material_NoteAdd__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mui/icons-material/NoteAdd */ "./node_modules/@mui/icons-material/NoteAdd.js");\n/* harmony import */ var _mui_icons_material_AssignmentReturned__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @mui/icons-material/AssignmentReturned */ "./node_modules/@mui/icons-material/AssignmentReturned.js");\n\n\n\n\n\n\n\n\n\n\n\n\nfunction AssignHistoryDiagram({\n  sprayCardSelected\n}) {\n  const [basicData, setBasicData] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [detailedData, setDetailedData] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [showBasic, setShowBasic] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n  async function AssignHistoryGet(scpid) {\n    const requestOptions = {\n      method: "GET",\n      headers: {\n        "Content-Type": "application/json"\n      }\n    };\n    await fetch("/workflow/spraycard/assignment_history/get/" + "?scpid=" + scpid, requestOptions).then(response => {\n      if (response.ok) {\n        response.json().then(data => {\n          const assigment_history = data.data;\n          setBasicData(assigment_history.filter(item => item.is_active === true).sort((a, b) => a.order - b.order));\n          setDetailedData(assigment_history);\n        });\n      }\n    });\n  }\n  const basicTimelineRender = () => {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_lab_Timeline__WEBPACK_IMPORTED_MODULE_1__["default"], {\n      sx: {\n        m: 0\n      }\n    }, basicData.map(item => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_lab_TimelineItem__WEBPACK_IMPORTED_MODULE_2__["default"], {\n      key: item === null || item === void 0 ? void 0 : item.scaid\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_lab_TimelineOppositeContent__WEBPACK_IMPORTED_MODULE_3__["default"], {\n      sx: {\n        m: \'auto 0\'\n      },\n      align: "right",\n      variant: "body2",\n      color: "text.secondary"\n    }, item === null || item === void 0 ? void 0 : item.assign_time), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_lab_TimelineSeparator__WEBPACK_IMPORTED_MODULE_4__["default"], null, item.order !== 1 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_lab_TimelineConnector__WEBPACK_IMPORTED_MODULE_5__["default"], null) : null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_lab_TimelineDot__WEBPACK_IMPORTED_MODULE_6__["default"], {\n      color: item.order === basicData.length ? \'primary\' : \'inherit\'\n    }, item.order === 1 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_NoteAdd__WEBPACK_IMPORTED_MODULE_7__["default"], null) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_AssignmentReturned__WEBPACK_IMPORTED_MODULE_8__["default"], null)), item.order !== basicData.length ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_lab_TimelineConnector__WEBPACK_IMPORTED_MODULE_5__["default"], null) : null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_lab_TimelineContent__WEBPACK_IMPORTED_MODULE_9__["default"], {\n      sx: {\n        m: \'auto 0\'\n      },\n      align: "right"\n    }, item === null || item === void 0 ? void 0 : item.assign_to))));\n  };\n  const detailedTimelineRender = () => {\n    const sortedData = [...detailedData].sort((a, b) => new Date(a.assign_time) - new Date(b.assign_time));\n    let lastActiveItem = null;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_lab_Timeline__WEBPACK_IMPORTED_MODULE_1__["default"], {\n      sx: {\n        m: 0\n      }\n    }, sortedData.map((item, index) => {\n      var _lastActiveItem, _lastActiveItem2;\n      if (item.is_active) {\n        lastActiveItem = item;\n      }\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n        key: item === null || item === void 0 ? void 0 : item.scaid\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_lab_TimelineItem__WEBPACK_IMPORTED_MODULE_2__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_lab_TimelineOppositeContent__WEBPACK_IMPORTED_MODULE_3__["default"], {\n        sx: {\n          m: \'auto 0\'\n        },\n        align: "right",\n        variant: "body2",\n        color: "text.secondary"\n      }, item === null || item === void 0 ? void 0 : item.assign_time), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_lab_TimelineSeparator__WEBPACK_IMPORTED_MODULE_4__["default"], null, index !== 0 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_lab_TimelineConnector__WEBPACK_IMPORTED_MODULE_5__["default"], null) : null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_lab_TimelineDot__WEBPACK_IMPORTED_MODULE_6__["default"], {\n        color: \'inherit\'\n      }, item.order === 1 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_NoteAdd__WEBPACK_IMPORTED_MODULE_7__["default"], null) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_AssignmentReturned__WEBPACK_IMPORTED_MODULE_8__["default"], null)), index !== sortedData.length - 1 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_lab_TimelineConnector__WEBPACK_IMPORTED_MODULE_5__["default"], {\n        style: item.is_active ? {} : {\n          backgroundColor: \'red\'\n        }\n      }) : null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_lab_TimelineContent__WEBPACK_IMPORTED_MODULE_9__["default"], {\n        sx: {\n          m: \'auto 0\'\n        },\n        align: "right"\n      }, item === null || item === void 0 ? void 0 : item.assign_to)), lastActiveItem && !item.is_active && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_lab_TimelineItem__WEBPACK_IMPORTED_MODULE_2__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_lab_TimelineOppositeContent__WEBPACK_IMPORTED_MODULE_3__["default"], {\n        sx: {\n          m: \'auto 0\'\n        },\n        align: "right",\n        variant: "body2",\n        color: "text.secondary"\n      }, (_lastActiveItem = lastActiveItem) === null || _lastActiveItem === void 0 ? void 0 : _lastActiveItem.assign_time), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_lab_TimelineSeparator__WEBPACK_IMPORTED_MODULE_4__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_lab_TimelineConnector__WEBPACK_IMPORTED_MODULE_5__["default"], {\n        style: {\n          backgroundColor: \'red\'\n        }\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_lab_TimelineDot__WEBPACK_IMPORTED_MODULE_6__["default"], {\n        color: \'inherit\'\n      }, item.order === 1 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_NoteAdd__WEBPACK_IMPORTED_MODULE_7__["default"], null) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_AssignmentReturned__WEBPACK_IMPORTED_MODULE_8__["default"], null)), index !== sortedData.length - 1 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_lab_TimelineConnector__WEBPACK_IMPORTED_MODULE_5__["default"], null) : null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_lab_TimelineContent__WEBPACK_IMPORTED_MODULE_9__["default"], {\n        sx: {\n          m: \'auto 0\'\n        },\n        align: "right"\n      }, (_lastActiveItem2 = lastActiveItem) === null || _lastActiveItem2 === void 0 ? void 0 : _lastActiveItem2.assign_to)));\n    }));\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    (sprayCardSelected === null || sprayCardSelected === void 0 ? void 0 : sprayCardSelected.scpid) && AssignHistoryGet(sprayCardSelected === null || sprayCardSelected === void 0 ? void 0 : sprayCardSelected.scpid);\n  }, [sprayCardSelected]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n    style: {\n      display: showBasic ? \'block\' : \'none\'\n    }\n  }, basicTimelineRender()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n    style: {\n      display: showBasic ? \'none\' : \'block\'\n    }\n  }, basicTimelineRender()));\n}\n\n//# sourceURL=webpack://frontend/./src/pages/SprayCard/AssignHistoryDiagram/index.js?')}}]);