"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[7736],{1628:(e,t,n)=>{n.d(t,{L:()=>r,c:()=>a});var o=n(7100),i=n(1272);function r(e){return(0,i.c)("MuiDivider",e)}const a=(0,o.c)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"])},5104:(e,t,n)=>{n.d(t,{c:()=>v});var o=n(5072),i=n(5656),r=n(1504),a=n(3268),s=n.n(a),c=n(4304),l=n(4220),d=n(2592),u=n(7840),p=n(9584),m=n(7624);const f=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function g(e){return`scale(${e}, ${e**2})`}const y={entering:{opacity:1,transform:g(1)},entered:{opacity:1,transform:"none"}},h="undefined"!=typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),b=r.forwardRef((function(e,t){const{addEndListener:n,appear:a=!0,children:s,easing:c,in:b,onEnter:v,onEntered:E,onEntering:x,onExit:$,onExited:C,onExiting:w,style:I,timeout:T="auto",TransitionComponent:O=l.cp}=e,M=(0,i.c)(e,f),k=r.useRef(),j=r.useRef(),R=(0,d.c)(),S=r.useRef(null),L=(0,p.c)(S,s.ref,t),N=e=>t=>{if(e){const n=S.current;void 0===t?e(n):e(n,t)}},D=N(x),A=N(((e,t)=>{(0,u.E)(e);const{duration:n,delay:o,easing:i}=(0,u.M)({style:I,timeout:T,easing:c},{mode:"enter"});let r;"auto"===T?(r=R.transitions.getAutoHeightDuration(e.clientHeight),j.current=r):r=n,e.style.transition=[R.transitions.create("opacity",{duration:r,delay:o}),R.transitions.create("transform",{duration:h?r:.666*r,delay:o,easing:i})].join(","),v&&v(e,t)})),F=N(E),G=N(w),V=N((e=>{const{duration:t,delay:n,easing:o}=(0,u.M)({style:I,timeout:T,easing:c},{mode:"exit"});let i;"auto"===T?(i=R.transitions.getAutoHeightDuration(e.clientHeight),j.current=i):i=t,e.style.transition=[R.transitions.create("opacity",{duration:i,delay:n}),R.transitions.create("transform",{duration:h?i:.666*i,delay:h?n:n||.333*i,easing:o})].join(","),e.style.opacity=0,e.style.transform=g(.75),$&&$(e)})),H=N(C);return r.useEffect((()=>()=>{clearTimeout(k.current)}),[]),(0,m.jsx)(O,(0,o.c)({appear:a,in:b,nodeRef:S,onEnter:A,onEntered:F,onEntering:D,onExit:V,onExited:H,onExiting:G,addEndListener:e=>{"auto"===T&&(k.current=setTimeout(e,j.current||0)),n&&n(S.current,e)},timeout:"auto"===T?null:T},M,{children:(e,t)=>r.cloneElement(s,(0,o.c)({style:(0,o.c)({opacity:0,transform:g(.75),visibility:"exited"!==e||b?void 0:"hidden"},y[e],I,s.props.style),ref:L},t))}))}));b.propTypes={addEndListener:s().func,appear:s().bool,children:c.c.isRequired,easing:s().oneOfType([s().shape({enter:s().string,exit:s().string}),s().string]),in:s().bool,onEnter:s().func,onEntered:s().func,onEntering:s().func,onExit:s().func,onExited:s().func,onExiting:s().func,style:s().object,timeout:s().oneOfType([s().oneOf(["auto"]),s().number,s().shape({appear:s().number,enter:s().number,exit:s().number})])},b.muiSupportAuto=!0;const v=b},384:(e,t,n)=>{n.d(t,{G:()=>r,c:()=>a});var o=n(7100),i=n(1272);function r(e){return(0,i.c)("MuiListItemIcon",e)}const a=(0,o.c)("MuiListItemIcon",["root","alignItemsFlexStart"])},2448:(e,t,n)=>{n.d(t,{Y:()=>r,c:()=>a});var o=n(7100),i=n(1272);function r(e){return(0,i.c)("MuiListItemText",e)}const a=(0,o.c)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"])},7432:(e,t,n)=>{n.d(t,{c:()=>M});var o=n(5656),i=n(5072),r=n(1504),a=n(3268),s=n.n(a),c=n(4971),l=n(5664),d=n(7728),u=n(6940),p=n(440),m=n(2411),f=n(9832),g=n(8260),y=n(9584),h=n(1628),b=n(384),v=n(2448),E=n(7100),x=n(1272);function $(e){return(0,x.c)("MuiMenuItem",e)}const C=(0,E.c)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var w=n(7624);const I=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],T=(0,u.cp)(f.c,{shouldForwardProp:e=>(0,u.CU)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((({theme:e,ownerState:t})=>(0,i.c)({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${C.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,d.W4)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${C.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,d.W4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${C.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,d.W4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,d.W4)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${C.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${C.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${h.c.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${h.c.inset}`]:{marginLeft:52},[`& .${v.c.root}`]:{marginTop:0,marginBottom:0},[`& .${v.c.inset}`]:{paddingLeft:36},[`& .${b.c.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&(0,i.c)({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${b.c.root} svg`]:{fontSize:"1.25rem"}})))),O=r.forwardRef((function(e,t){const n=(0,p.c)({props:e,name:"MuiMenuItem"}),{autoFocus:a=!1,component:s="li",dense:d=!1,divider:u=!1,disableGutters:f=!1,focusVisibleClassName:h,role:b="menuitem",tabIndex:v,className:E}=n,x=(0,o.c)(n,I),C=r.useContext(m.c),O=r.useMemo((()=>({dense:d||C.dense||!1,disableGutters:f})),[C.dense,d,f]),M=r.useRef(null);(0,g.c)((()=>{a&&(M.current?M.current.focus():console.error("MUI: Unable to set focus to a MenuItem whose component has not been rendered."))}),[a]);const k=(0,i.c)({},n,{dense:O.dense,divider:u,disableGutters:f}),j=(e=>{const{disabled:t,dense:n,divider:o,disableGutters:r,selected:a,classes:s}=e,c={root:["root",n&&"dense",t&&"disabled",!r&&"gutters",o&&"divider",a&&"selected"]},d=(0,l.c)(c,$,s);return(0,i.c)({},s,d)})(n),R=(0,y.c)(M,t);let S;return n.disabled||(S=void 0!==v?v:-1),(0,w.jsx)(m.c.Provider,{value:O,children:(0,w.jsx)(T,(0,i.c)({ref:R,role:b,tabIndex:S,component:s,focusVisibleClassName:(0,c.c)(j.focusVisible,h),className:(0,c.c)(j.root,E)},x,{ownerState:k,classes:j}))})}));O.propTypes={autoFocus:s().bool,children:s().node,classes:s().object,className:s().string,component:s().elementType,dense:s().bool,disabled:s().bool,disableGutters:s().bool,divider:s().bool,focusVisibleClassName:s().string,role:s().string,selected:s().bool,sx:s().oneOfType([s().arrayOf(s().oneOfType([s().func,s().object,s().bool])),s().func,s().object]),tabIndex:s().number};const M=O},5564:(e,t,n)=>{n.d(t,{c:()=>a});var o=n(3268),i=n.n(o);const r=(0,n(4420).c)();r.propTypes={children:i().node,component:i().elementType,sx:i().oneOfType([i().arrayOf(i().oneOfType([i().func,i().object,i().bool])),i().func,i().object])};const a=r},4304:(e,t,n)=>{n.d(t,{c:()=>c});var o=n(3268),i=n.n(o),r=n(4048);function a(e,t,n,o,i){const r=e[t],a=i||t;if(null==r||"undefined"==typeof window)return null;let s;const c=r.type;return"function"!=typeof c||function(e){const{prototype:t={}}=e;return Boolean(t.isReactComponent)}(c)||(s="Did you accidentally use a plain function component for an element instead?"),void 0!==s?new Error(`Invalid ${o} \`${a}\` supplied to \`${n}\`. Expected an element that can hold a ref. ${s} For more information see https://mui.com/r/caveat-with-refs-guide`):null}const s=(0,r.c)(i().element,a);s.isRequired=(0,r.c)(i().element.isRequired,a);const c=s},2720:(e,t,n)=>{n.d(t,{c:()=>i});const o="exact-prop: â€‹";function i(e){return{...e,[o]:t=>{const n=Object.keys(t).filter((t=>!e.hasOwnProperty(t)));return n.length>0?new Error(`The following props are not supported: ${n.map((e=>`\`${e}\``)).join(", ")}. Please remove them.`):null}}}},2416:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var o=n(1504),i=n(128),r=n(7432),a=n(8857),s=n(5564),c=n(8576);function l(e){const{notificationFetch:t,toggleNotificationFetch:n}=(0,o.useContext)(c.K),[l,d]=(0,o.useState)([]),u=e=>{const t=new Date(e),n=new Date;return t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate()?t.toTimeString().split(" ")[0]:t.toISOString().split("T")[0]};return(0,o.useEffect)((()=>{e.uid&&async function(t){await fetch("/message/notification/unread/list/get?recipient_id="+t,{method:"GET",headers:{"Content-Type":"application/json"}}).then((t=>{t.ok&&t.json().then((t=>{d(t.data),e.setNotificationItems((e=>{const t=(e,t)=>{let n;switch(e){case"Connection":n=`New connection request from ${t}!`;break;case"Reports":n=`New shared reports from ${t}!`}return n},n=(e,t,n,o)=>{let i;switch(e){case"Connection":i=`people/connection/?mid=${n}&cpid=${o}`;break;case"Reports":i=`people/?mid=${n}&reportHistory=true`}return i};return e.map((e=>({id:e.mid,subject:t(e.type,e.author),time:u(e.create_time),type:e.type,author:e.author,recipient:e.recipient,url:n(e.type,e.author,e.mid,e.connection)})))})(t.data))}))}))}(e.uid)}),[t]),(0,o.useEffect)((()=>{const e=setInterval((()=>{n()}),3e4);return()=>clearInterval(e)}),[]),o.createElement(i.c,{id:"setting-menu",anchorEl:e.notificationAnchorEl,keepMounted:!0,open:Boolean(e.notificationAnchorEl),onClose:()=>e.setNotificationAnchorEl(null)},e.notificationItems.length>0?e.notificationItems.map((e=>o.createElement(r.c,{key:e.id},o.createElement("a",{href:e.url},o.createElement(s.c,{display:"flex",justifyContent:"space-between",alignItems:"center"},o.createElement(a.c,{variant:"inherit",style:{fontSize:"0.9rem"}},e.subject),o.createElement(s.c,{mx:1}),o.createElement(a.c,{variant:"inherit",noWrap:!0,style:{fontSize:"0.9rem"}},e.time)))))):o.createElement(r.c,{key:"no-notification"},o.createElement(a.c,{variant:"inherit",style:{fontSize:"0.9rem"}},"There is no new notification.")))}}}]);