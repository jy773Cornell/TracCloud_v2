/*! For license information please see src_pages_Crop_index_js.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["src_pages_Crop_index_js"],{"./src/pages/Crop/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ Crop)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _mui_material_Paper__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @mui/material/Paper */ "./node_modules/@mui/material/Paper/Paper.js");\n/* harmony import */ var _mui_material_Table__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @mui/material/Table */ "./node_modules/@mui/material/Table/Table.js");\n/* harmony import */ var _mui_material_TableBody__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @mui/material/TableBody */ "./node_modules/@mui/material/TableBody/TableBody.js");\n/* harmony import */ var _mui_material_TableCell__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @mui/material/TableCell */ "./node_modules/@mui/material/TableCell/TableCell.js");\n/* harmony import */ var _mui_material_TableContainer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @mui/material/TableContainer */ "./node_modules/@mui/material/TableContainer/TableContainer.js");\n/* harmony import */ var _mui_material_TableHead__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @mui/material/TableHead */ "./node_modules/@mui/material/TableHead/TableHead.js");\n/* harmony import */ var _mui_material_TablePagination__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @mui/material/TablePagination */ "./node_modules/@mui/material/TablePagination/TablePagination.js");\n/* harmony import */ var _mui_material_TableRow__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @mui/material/TableRow */ "./node_modules/@mui/material/TableRow/TableRow.js");\n/* harmony import */ var _mui_material_IconButton__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @mui/material/IconButton */ "./node_modules/@mui/material/IconButton/IconButton.js");\n/* harmony import */ var _mui_icons_material_Add__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @mui/icons-material/Add */ "./node_modules/@mui/icons-material/Add.js");\n/* harmony import */ var _mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @mui/icons-material/Edit */ "./node_modules/@mui/icons-material/Edit.js");\n/* harmony import */ var _mui_icons_material_Delete__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @mui/icons-material/Delete */ "./node_modules/@mui/icons-material/Delete.js");\n/* harmony import */ var _mui_icons_material_Cancel__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mui/icons-material/Cancel */ "./node_modules/@mui/icons-material/Cancel.js");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/Autocomplete/Autocomplete.js");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/TextField/TextField.js");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/Button/Button.js");\n/* harmony import */ var _styles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./styles */ "./src/pages/Crop/styles.js");\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst columns = [{\n  id: \'crop\',\n  label: \'Crop\',\n  minWidth: 100\n}, {\n  id: \'variety\',\n  label: \'Variety\',\n  minWidth: 100\n}, {\n  id: \'crop_code\',\n  label: \'Crop Code\',\n  minWidth: 100\n}, {\n  id: \'category\',\n  label: \'Category\',\n  minWidth: 100\n}, {\n  id: \'growth_stage\',\n  label: \'Growth Stage\',\n  minWidth: 100\n}, {\n  id: \'update_time\',\n  label: \'Update Time\',\n  minWidth: 100\n}, {\n  id: \'operations\',\n  label: \'Operations\',\n  minWidth: 100\n}];\nconst field_names = ["crop_id", "variety_id", "crop_code", "category", "growth_stage_id"];\nfunction createRowData(record) {\n  return {\n    "cid": record.cid,\n    "crop": record.crop,\n    "variety": record.variety,\n    "crop_code": record.crop_code,\n    "category": record.category,\n    "growth_stage": record.growth_stage,\n    "update_time": record.update_time\n  };\n}\nfunction AddCropRow({\n  uid,\n  setShowAddRow\n}) {\n  const [formData, setFormData] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n  const [fieldValues, setFieldValues] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n  const [cropCategory, setCropCategory] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [cropVariety, setCropVariety] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [cropGrowthStage, setCropGrowthStage] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [CropCategoryOptions, setCropCategoryOptions] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [cropVarietyOptions, setCropVarietyOptions] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [CropGrowthStageOptions, setCropGrowthStageOptions] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  async function CropCategoryGet() {\n    const requestOptions = {\n      method: "GET",\n      headers: {\n        "Content-Type": "application/json"\n      }\n    };\n    await fetch("/api/crop/category/", requestOptions).then(response => {\n      if (response.ok) {\n        response.json().then(data => {\n          setCropCategory(data.data);\n        });\n      }\n    });\n  }\n  async function CropVarietyGet() {\n    const requestOptions = {\n      method: "GET",\n      headers: {\n        "Content-Type": "application/json"\n      }\n    };\n    await fetch("/api/crop/variety/", requestOptions).then(response => {\n      if (response.ok) {\n        response.json().then(data => {\n          setCropVariety(data.data);\n        });\n      }\n    });\n  }\n  async function CropGrowthStageGet() {\n    const requestOptions = {\n      method: "GET",\n      headers: {\n        "Content-Type": "application/json"\n      }\n    };\n    await fetch("/api/crop/growthstage/", requestOptions).then(response => {\n      if (response.ok) {\n        response.json().then(data => {\n          setCropGrowthStage(data.data);\n        });\n      }\n    });\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    CropCategoryGet();\n    CropVarietyGet();\n    CropGrowthStageGet();\n    setFormData({\n      "user_id": uid\n    });\n  }, []);\n  function CropCategoryOptionsFresh() {\n    setCropCategoryOptions(cropCategory.map(item => ({\n      label: item.name,\n      id: item.ccid,\n      crop_code: item.crop_code,\n      category: item.category\n    })));\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    CropCategoryOptionsFresh();\n  }, [cropCategory]);\n  function CropVarietyOptionsFresh(crop_id) {\n    setCropVarietyOptions(cropVariety.filter(item => item.crop === crop_id).map(item => ({\n      label: item.name,\n      id: item.cvid\n    })));\n  }\n  function CropGrowthStageOptionsFresh(crop_id) {\n    setCropGrowthStageOptions(cropGrowthStage.filter(item => item.crop === crop_id).map(item => ({\n      label: item.name,\n      id: item.cgsid\n    })));\n  }\n  const handleInputChange = (event, value, field) => {\n    console.log(value);\n    if (field === field_names[0]) {\n      setFieldValues({\n        ...fieldValues,\n        [field]: value.label,\n        [field_names[1]]: null,\n        [field_names[2]]: value.crop_code,\n        [field_names[3]]: value.category,\n        [field_names[4]]: null\n      });\n      setFormData({\n        ...formData,\n        [field]: value.id,\n        [field_names[1]]: null,\n        [field_names[4]]: null\n      });\n      CropVarietyOptionsFresh(value.id);\n      CropGrowthStageOptionsFresh(value.id);\n    } else {\n      setFieldValues({\n        ...fieldValues,\n        [field]: value.label\n      });\n      setFormData({\n        ...formData,\n        [field]: value.id\n      });\n    }\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_TableRow__WEBPACK_IMPORTED_MODULE_2__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_TableCell__WEBPACK_IMPORTED_MODULE_3__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_4__["default"], {\n    options: CropCategoryOptions,\n    value: fieldValues[field_names[0]],\n    renderInput: params => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_5__["default"], _extends({}, params, {\n      variant: "outlined",\n      sx: {\n        width: 150\n      }\n    })),\n    onChange: (event, value) => {\n      handleInputChange(event, value, field_names[0]);\n    }\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_TableCell__WEBPACK_IMPORTED_MODULE_3__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_4__["default"], {\n    options: cropVarietyOptions,\n    value: fieldValues[field_names[1]],\n    renderInput: params => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_5__["default"], _extends({}, params, {\n      variant: "outlined",\n      sx: {}\n    })),\n    onChange: (event, value) => {\n      handleInputChange(event, value, field_names[1]);\n    }\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_TableCell__WEBPACK_IMPORTED_MODULE_3__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_5__["default"], {\n    disabled: true,\n    value: fieldValues[field_names[2]],\n    variant: "outlined",\n    sx: {\n      width: 100\n    }\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_TableCell__WEBPACK_IMPORTED_MODULE_3__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_5__["default"], {\n    disabled: true,\n    value: fieldValues[field_names[3]],\n    variant: "outlined",\n    sx: {\n      width: 150\n    }\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_TableCell__WEBPACK_IMPORTED_MODULE_3__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_4__["default"], {\n    options: CropGrowthStageOptions,\n    value: fieldValues[field_names[4]],\n    renderInput: params => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_5__["default"], _extends({}, params, {\n      variant: "outlined",\n      sx: {}\n    })),\n    onChange: (event, value) => {\n      handleInputChange(event, value, field_names[4]);\n    }\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_TableCell__WEBPACK_IMPORTED_MODULE_3__["default"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_TableCell__WEBPACK_IMPORTED_MODULE_3__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_6__["default"], {\n    variant: "contained",\n    color: "success",\n    onClick: () => setShowAddRow(false)\n  }, "Save")));\n}\nfunction Crop(props) {\n  const [rows, setRows] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [showAddRow, setShowAddRow] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [page, setPage] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n  const [rowsPerPage, setRowsPerPage] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(10);\n  async function CropListGet(props) {\n    const requestOptions = {\n      method: "GET",\n      headers: {\n        "Content-Type": "application/json"\n      }\n    };\n    await fetch("/api/crop/list/get/" + "?uid=" + props.uid, requestOptions).then(response => {\n      if (response.ok) {\n        response.json().then(data => {\n          const record_list = data.data;\n          const record_row = record_list.map(record => createRowData(record));\n          setRows(record_row);\n        });\n      }\n    });\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    CropListGet(props);\n  }, [showAddRow]);\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n  const handleChangeRowsPerPage = event => {\n    setRowsPerPage(+event.target.value);\n    setPage(0);\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", null, showAddRow ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_styles__WEBPACK_IMPORTED_MODULE_1__.CancelButton, {\n    variant: "contained",\n    startIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_Cancel__WEBPACK_IMPORTED_MODULE_7__["default"], null),\n    onClick: () => setShowAddRow(false)\n  }, "Cancel") : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_styles__WEBPACK_IMPORTED_MODULE_1__.AddButton, {\n    variant: "contained",\n    startIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_Add__WEBPACK_IMPORTED_MODULE_8__["default"], null),\n    onClick: () => setShowAddRow(true)\n  }, "Add Crop"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_Paper__WEBPACK_IMPORTED_MODULE_9__["default"], {\n    sx: {\n      overflow: \'hidden\',\n      margin: "0px 15px"\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_TableContainer__WEBPACK_IMPORTED_MODULE_10__["default"], {\n    sx: {\n      maxHeight: 440\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_Table__WEBPACK_IMPORTED_MODULE_11__["default"], {\n    stickyHeader: true,\n    "aria-label": "sticky table"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_TableHead__WEBPACK_IMPORTED_MODULE_12__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_TableRow__WEBPACK_IMPORTED_MODULE_2__["default"], null, columns.map(column => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_TableCell__WEBPACK_IMPORTED_MODULE_3__["default"], {\n    key: column.id,\n    align: column.align,\n    style: {\n      minWidth: column.minWidth,\n      backgroundColor: \'#f5f5f5\',\n      color: \'black\'\n    }\n  }, column.label)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_TableBody__WEBPACK_IMPORTED_MODULE_13__["default"], null, showAddRow && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(AddCropRow, {\n    uid: props.uid,\n    setShowAddRow: setShowAddRow\n  }), rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map(row => {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_TableRow__WEBPACK_IMPORTED_MODULE_2__["default"], {\n      hover: true,\n      role: "checkbox",\n      tabIndex: -1,\n      key: row.code\n    }, columns.map(column => {\n      if (column.id === "operations") {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_TableCell__WEBPACK_IMPORTED_MODULE_3__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_14__["default"], {\n          "aria-label": "edit"\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_15__["default"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_14__["default"], {\n          "aria-label": "delete"\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_Delete__WEBPACK_IMPORTED_MODULE_16__["default"], null)));\n      }\n      const value = row[column.id];\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_TableCell__WEBPACK_IMPORTED_MODULE_3__["default"], {\n        key: column.id,\n        align: column.align\n      }, column.format && typeof value === \'number\' ? column.format(value) : value);\n    }));\n  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_TablePagination__WEBPACK_IMPORTED_MODULE_17__["default"], {\n    rowsPerPageOptions: [10, 25, 100],\n    component: "div",\n    count: rows.length,\n    rowsPerPage: rowsPerPage,\n    page: page,\n    onPageChange: handleChangePage,\n    onRowsPerPageChange: handleChangeRowsPerPage\n  })));\n}\n\n//# sourceURL=webpack://frontend/./src/pages/Crop/index.js?')},"./src/pages/Crop/styles.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "AddButton": () => (/* binding */ AddButton),\n/* harmony export */   "CancelButton": () => (/* binding */ CancelButton)\n/* harmony export */ });\n/* harmony import */ var _mui_system__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @mui/system */ "./node_modules/@mui/system/esm/styled.js");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/Button/Button.js");\n/* harmony import */ var _mui_material_colors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @mui/material/colors */ "./node_modules/@mui/material/colors/orange.js");\n/* harmony import */ var _mui_material_colors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @mui/material/colors */ "./node_modules/@mui/material/colors/pink.js");\n\n\n\n\nconst AddButton = (0,_mui_system__WEBPACK_IMPORTED_MODULE_0__["default"])(_mui_material__WEBPACK_IMPORTED_MODULE_1__["default"])(({\n  theme\n}) => ({\n  margin: "15px 15px",\n  backgroundColor: _mui_material_colors__WEBPACK_IMPORTED_MODULE_2__["default"][500],\n  \'&:hover\': {\n    backgroundColor: _mui_material_colors__WEBPACK_IMPORTED_MODULE_2__["default"][700]\n  }\n}));\nconst CancelButton = (0,_mui_system__WEBPACK_IMPORTED_MODULE_0__["default"])(_mui_material__WEBPACK_IMPORTED_MODULE_1__["default"])(({\n  theme\n}) => ({\n  margin: "15px 15px",\n  backgroundColor: _mui_material_colors__WEBPACK_IMPORTED_MODULE_3__["default"][500],\n  \'&:hover\': {\n    backgroundColor: _mui_material_colors__WEBPACK_IMPORTED_MODULE_3__["default"][700]\n  }\n}));\n\n//# sourceURL=webpack://frontend/./src/pages/Crop/styles.js?')}}]);