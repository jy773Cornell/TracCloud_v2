"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[1228],{7600:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var r=n(1504),s=n(6988),a=n(6350),c=n(4408);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}const i=r.forwardRef((function(e,t){return r.createElement(c.c,l({elevation:6,ref:t,variant:"filled"},e))}));function o(e){const t=(t,n)=>{"clickaway"!==n&&e.setOpen(!1)};return r.createElement(s.c,{spacing:2,sx:{width:"100%"}},r.createElement(a.c,{open:e.open,autoHideDuration:6e3,onClose:t},(()=>{switch(e.tag){case"success":return r.createElement(i,{onClose:t,severity:"success",sx:{width:"100%"}},e.msg);case"error":return r.createElement(i,{onClose:t,severity:"error",sx:{width:"100%"}},e.msg);case"warning":return r.createElement(i,{onClose:t,severity:"warning",sx:{width:"100%"}},e.msg);default:return null}})()))}},1228:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var r=n(1504),s=n(7339),a=n(1940),c=n(3964),l=n(4660),i=n(3604),o=n(5984),p=n(7516),u=n(4477),d=n(7600),f=n(2528),g=n(444);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function y({uid:e,sprayData:t,sprayOptions:n,assignSprayCard:y,setAssignSprayCard:h,sprayCardSelected:E,refreshRecord:x,setRefreshRecord:b}){const[w,C]=(0,r.useState)(""),[v,O]=(0,r.useState)(!1),k={open:v,setOpen:O,msg:"Spray Card Process Assigned Successfully.",tag:"success"};return r.createElement(r.Fragment,null,r.createElement(o.c,{open:y,sx:{display:"flex",justifyContent:"center",alignItems:"center"}},r.createElement(p.c,{sx:{width:1250}},r.createElement(u.c,null,r.createElement(s.c,{sx:{width:"100%",flexGrow:1}},r.createElement(s.c,{sx:{width:"100%",minHeight:400,maxHeight:800,overflow:"auto"}},r.createElement(c.cp,{container:!0,justifyContent:"center",spacing:2},r.createElement(c.cp,{item:!0,xs:12,sx:{textAlign:"center"}},r.createElement("h1",null,"Assign Spray Card Process")),r.createElement(c.cp,{item:!0,xs:6},r.createElement(l.c,{options:null!=n&&n.assigneeOptions?(S=n.assigneeOptions,[...S].sort(((e,t)=>{if(e.type<t.type)return-1;if(e.type>t.type)return 1;if(e.type===t.type){if(e.label<t.label)return-1;if(e.label>t.label)return 1}return 0}))):[],getOptionLabel:e=>e.label,groupBy:e=>e.type,disableClearable:!0,onChange:(e,t)=>{C(t)},renderInput:e=>r.createElement(i.c,m({},e,{variant:"outlined",label:"Assign Process"})),renderGroup:e=>r.createElement("li",{key:e.key},r.createElement(g.o,null,e.group),r.createElement(g.g,null,e.children))})))),r.createElement(s.c,{display:"flex",justifyContent:"flex-end"},r.createElement(a.c,{onClick:()=>h(!1),color:"inherit",sx:{mr:1}},"Later"),r.createElement(s.c,{sx:{flex:"1 1 auto"}}),r.createElement(a.c,{disabled:""===w,onClick:()=>async function(e,t,n){const r={spray_card_id:e,assigner_id:t,assignee_id:n};console.log(r);const s={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":(0,f.U$)("csrftoken")},body:JSON.stringify(r)};await fetch("/workflow/spraycard/assign/",s).then((e=>{e.ok&&(h(!1),O(!0),b(~x))}))}(E.scpid,e,w.id),color:"success",sx:{mr:1}},"Assign")))))),r.createElement(d.default,k));var S}},444:(e,t,n)=>{n.d(t,{g:()=>c,o:()=>a});var r=n(6060),s=n(3036);const a=(0,r.c)("div")((({theme:e})=>({position:"sticky",top:"-8px",padding:"4px 10px",color:s.c[200]}))),c=(0,r.c)("ul")({padding:0})}}]);