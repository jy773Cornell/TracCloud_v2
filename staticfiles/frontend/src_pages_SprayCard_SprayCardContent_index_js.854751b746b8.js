/*! For license information please see src_pages_SprayCard_SprayCardContent_index_js.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["src_pages_SprayCard_SprayCardContent_index_js"],{"./src/pages/SprayCard/SprayCardContent/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ sprayCardContent)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/Grid/Grid.js");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/TextField/TextField.js");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/Autocomplete/Autocomplete.js");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/Button/Button.js");\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\nfunction sprayCardContent({\n  uid,\n  sprayCardSelected,\n  sprayOptions,\n  setAssignSprayCard\n}) {\n  const [sprayCardContents, setSprayCardContents] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]);\n  const [chemicalContents, setChemicalContents] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]);\n  const [decisionContents, setDecisionContents] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]);\n  const [cropContents, setCropContents] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]);\n  const [targetContents, setTargetContents] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]);\n  const [siteContents, setSiteContents] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]);\n  async function SprayCardContentGet(scpid) {\n    const requestOptions = {\n      method: "GET",\n      headers: {\n        "Content-Type": "application/json"\n      }\n    };\n    await fetch("/workflow/spraycard/content/get/" + "?scpid=" + scpid, requestOptions).then(response => {\n      if (response.ok) {\n        response.json().then(data => {\n          setSprayCardContents(data.data);\n        });\n      }\n    });\n  }\n  const handleAssignButtonClicked = () => {\n    setAssignSprayCard(true);\n  };\n  const updateSprayCardContent = () => {\n    const uniqueChemicalPurchases = [...new Set(sprayCardContents.map(item => item.chemical_purchase))];\n    setChemicalContents(uniqueChemicalPurchases.map(id => sprayOptions.chemicalOptions.find(option => option.id === id)));\n    const uniqueDecisions = [...new Set(sprayCardContents.map(item => item.decision_support))];\n    setDecisionContents(uniqueDecisions.map(id => sprayOptions.decisionSupportOptions.find(option => option.id === id)));\n    const uniqueCrops = [...new Set(sprayCardContents.map(item => item.crop))];\n    setCropContents(uniqueCrops.map(id => sprayOptions.cropOptions.find(option => option.id === id)));\n    const uniqueTargets = [...new Set(sprayCardContents.map(item => item.target))];\n    setTargetContents(uniqueTargets.map(id => sprayOptions.targetOptions.find(option => option.id === id)));\n    const uniqueSites = [...new Set(sprayCardContents.map(item => item.site))];\n    setSiteContents(uniqueSites.map(id => sprayOptions.siteOptions.find(option => option.id === id)));\n  };\n  const chemicalContentRender = () => {\n    return Object.keys(chemicalContents).map(rowIdx => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n      key: rowIdx\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_1__["default"], {\n      item: true,\n      xs: 8\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_2__["default"], {\n      fullWidth: true,\n      variant: "outlined",\n      value: chemicalContents[rowIdx].label,\n      label: "Chemical " + (Number(rowIdx) + 1) + "  EPA NO.  |  Trade Name  |  Active Ingredient  |  REI  |  PHI  |  Cost per Unit  |  Purchase Date",\n      color: "secondary",\n      focused: true,\n      InputProps: {\n        readOnly: true\n      }\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_1__["default"], {\n      item: true,\n      xs: 4\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_2__["default"], {\n      fullWidth: true,\n      variant: "outlined",\n      value: decisionContents[rowIdx].label,\n      label: "Decision Support " + (Number(rowIdx) + 1),\n      color: "secondary",\n      focused: true,\n      InputProps: {\n        readOnly: true\n      }\n    }))));\n  };\n  const siteContentRender = () => {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_1__["default"], {\n      item: true,\n      xs: 12\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_3__["default"], {\n      multiple: true,\n      size: "small",\n      value: siteContents || [],\n      options: (sprayOptions === null || sprayOptions === void 0 ? void 0 : sprayOptions.siteOptions) || [],\n      getOptionLabel: option => option.label,\n      readOnly: true,\n      renderInput: params => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_2__["default"], _extends({}, params, {\n        variant: "outlined",\n        label: "Selected Sites",\n        color: "success",\n        focused: true\n      }))\n    }));\n  };\n  const cropContentRender = () => {\n    return Object.keys(cropContents).map(rowIdx => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n      key: rowIdx\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_1__["default"], {\n      item: true,\n      xs: 6\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_2__["default"], {\n      fullWidth: true,\n      variant: "outlined",\n      value: cropContents[rowIdx].label,\n      label: "Crop " + (Number(rowIdx) + 1) + " (Variety, Growth Stage)",\n      color: "warning",\n      focused: true,\n      InputProps: {\n        readOnly: true\n      }\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_1__["default"], {\n      item: true,\n      xs: 6\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_2__["default"], {\n      fullWidth: true,\n      variant: "outlined",\n      value: targetContents[rowIdx].label,\n      label: "Application Target " + (Number(rowIdx) + 1),\n      color: "warning",\n      focused: true,\n      InputProps: {\n        readOnly: true\n      }\n    }))));\n  };\n  const operationRender = () => {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_1__["default"], {\n      item: true,\n      xs: 2.4\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_4__["default"], null, "Complete")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_1__["default"], {\n      item: true,\n      xs: 2.4\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_4__["default"], {\n      onClick: () => handleAssignButtonClicked()\n    }, "Assign")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_1__["default"], {\n      item: true,\n      xs: 2.4\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_4__["default"], null, "Return")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_1__["default"], {\n      item: true,\n      xs: 2.4\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_4__["default"], {\n      disabled: (sprayCardSelected === null || sprayCardSelected === void 0 ? void 0 : sprayCardSelected.owner_id) !== uid\n    }, "Edit")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_1__["default"], {\n      item: true,\n      xs: 2.4\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_4__["default"], {\n      disabled: (sprayCardSelected === null || sprayCardSelected === void 0 ? void 0 : sprayCardSelected.owner_id) !== uid\n    }, "Withdraw")));\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    (sprayCardSelected === null || sprayCardSelected === void 0 ? void 0 : sprayCardSelected.scpid) && SprayCardContentGet(sprayCardSelected === null || sprayCardSelected === void 0 ? void 0 : sprayCardSelected.scpid);\n  }, [sprayCardSelected]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    updateSprayCardContent();\n  }, [sprayCardContents]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_1__["default"], {\n    container: true,\n    justifyContent: "center",\n    spacing: 3\n  }, operationRender(), chemicalContentRender(), cropContentRender(), siteContentRender());\n}\n\n//# sourceURL=webpack://frontend/./src/pages/SprayCard/SprayCardContent/index.js?')}}]);