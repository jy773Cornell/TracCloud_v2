/*! For license information please see node_modules_mui_material_ListItemButton_listItemButtonClasses_js-node_modules_mui_utils_esm_-4c4a56.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["node_modules_mui_material_ListItemButton_listItemButtonClasses_js-node_modules_mui_utils_esm_-4c4a56"],{"./node_modules/@mui/icons-material/Description.js":(__unused_webpack_module,exports,__webpack_require__)=>{eval('\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@babel/runtime/helpers/interopRequireDefault.js");\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\nexports["default"] = void 0;\nvar _createSvgIcon = _interopRequireDefault(__webpack_require__(/*! ./utils/createSvgIcon */ "./node_modules/@mui/icons-material/utils/createSvgIcon.js"));\nvar _jsxRuntime = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {\n  d: "M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"\n}), \'Description\');\nexports["default"] = _default;\n\n//# sourceURL=webpack://frontend/./node_modules/@mui/icons-material/Description.js?')},"./node_modules/@mui/icons-material/Download.js":(__unused_webpack_module,exports,__webpack_require__)=>{eval('\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@babel/runtime/helpers/interopRequireDefault.js");\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\nexports["default"] = void 0;\nvar _createSvgIcon = _interopRequireDefault(__webpack_require__(/*! ./utils/createSvgIcon */ "./node_modules/@mui/icons-material/utils/createSvgIcon.js"));\nvar _jsxRuntime = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {\n  d: "M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"\n}), \'Download\');\nexports["default"] = _default;\n\n//# sourceURL=webpack://frontend/./node_modules/@mui/icons-material/Download.js?')},"./node_modules/@mui/icons-material/List.js":(__unused_webpack_module,exports,__webpack_require__)=>{eval('\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@babel/runtime/helpers/interopRequireDefault.js");\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\nexports["default"] = void 0;\nvar _createSvgIcon = _interopRequireDefault(__webpack_require__(/*! ./utils/createSvgIcon */ "./node_modules/@mui/icons-material/utils/createSvgIcon.js"));\nvar _jsxRuntime = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {\n  d: "M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"\n}), \'List\');\nexports["default"] = _default;\n\n//# sourceURL=webpack://frontend/./node_modules/@mui/icons-material/List.js?')},"./node_modules/@mui/material/ListItemButton/listItemButtonClasses.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getListItemButtonUtilityClass: () => (/* binding */ getListItemButtonUtilityClass)\n/* harmony export */ });\n/* harmony import */ var _mui_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @mui/utils */ \"./node_modules/@mui/utils/esm/generateUtilityClasses/generateUtilityClasses.js\");\n/* harmony import */ var _generateUtilityClass__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../generateUtilityClass */ \"./node_modules/@mui/utils/esm/generateUtilityClass/generateUtilityClass.js\");\n\n\nfunction getListItemButtonUtilityClass(slot) {\n  return (0,_generateUtilityClass__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('MuiListItemButton', slot);\n}\nconst listItemButtonClasses = (0,_mui_utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])('MuiListItemButton', ['root', 'focusVisible', 'dense', 'alignItemsFlexStart', 'disabled', 'divider', 'gutters', 'selected']);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (listItemButtonClasses);\n\n//# sourceURL=webpack://frontend/./node_modules/@mui/material/ListItemButton/listItemButtonClasses.js?")},"./node_modules/@mui/utils/esm/usePreviousProps.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nconst usePreviousProps = value => {\n  const ref = react__WEBPACK_IMPORTED_MODULE_0__.useRef({});\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (usePreviousProps);\n\n//# sourceURL=webpack://frontend/./node_modules/@mui/utils/esm/usePreviousProps.js?')},"./src/pages/People/ReportSharingWindow/SharingHistoryList/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ SharingHistoryList)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _mui_material_List__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @mui/material/List */ "./node_modules/@mui/material/List/List.js");\n/* harmony import */ var _mui_material_ListItemButton__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @mui/material/ListItemButton */ "./node_modules/@mui/material/ListItemButton/ListItemButton.js");\n/* harmony import */ var _mui_material_ListItemIcon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mui/material/ListItemIcon */ "./node_modules/@mui/material/ListItemIcon/ListItemIcon.js");\n/* harmony import */ var _mui_material_ListItemText__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @mui/material/ListItemText */ "./node_modules/@mui/material/ListItemText/ListItemText.js");\n/* harmony import */ var _mui_material_Collapse__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @mui/material/Collapse */ "./node_modules/@mui/material/Collapse/Collapse.js");\n/* harmony import */ var _mui_icons_material_Description__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @mui/icons-material/Description */ "./node_modules/@mui/icons-material/Description.js");\n/* harmony import */ var _mui_icons_material_List__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mui/icons-material/List */ "./node_modules/@mui/icons-material/List.js");\n/* harmony import */ var _mui_icons_material_ExpandLess__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @mui/icons-material/ExpandLess */ "./node_modules/@mui/icons-material/ExpandLess.js");\n/* harmony import */ var _mui_icons_material_ExpandMore__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @mui/icons-material/ExpandMore */ "./node_modules/@mui/icons-material/ExpandMore.js");\n/* harmony import */ var _mui_material_Paper__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @mui/material/Paper */ "./node_modules/@mui/material/Paper/Paper.js");\n/* harmony import */ var _styles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./styles */ "./src/pages/People/ReportSharingWindow/SharingHistoryList/styles.js");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/Badge/Badge.js");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/Button/Button.js");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/Divider/Divider.js");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../utils */ "./src/utils/index.js");\n/* harmony import */ var _mui_icons_material_Download__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @mui/icons-material/Download */ "./node_modules/@mui/icons-material/Download.js");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction SharingHistoryList(props) {\n  const [reportsHistoryList, setReportsHistoryList] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]);\n  const [reportUserName, setReportUserName] = react__WEBPACK_IMPORTED_MODULE_0__.useState("");\n  const [openIndexes, setOpenIndexes] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]);\n  async function ReceivedReportsGet(author_id, recipient_id) {\n    const requestOptions = {\n      method: "GET",\n      headers: {\n        "Content-Type": "application/json"\n      }\n    };\n    await fetch("/message/report/list/get" + "?author_id=" + author_id + "&recipient_id=" + recipient_id, requestOptions).then(response => {\n      if (response.ok) {\n        response.json().then(data => {\n          setReportsHistoryList(data.data);\n        });\n      }\n    });\n  }\n  async function ReportDownload(user_id, rid) {\n    const apiData = {\n      user_id,\n      rid\n    };\n    const csrftoken = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getCookie)(\'csrftoken\');\n    const requestOptions = {\n      method: "POST",\n      headers: {\n        "Content-Type": "application/json",\n        \'X-CSRFToken\': csrftoken\n      },\n      body: JSON.stringify(apiData)\n    };\n    try {\n      const response = await fetch("/media/report/download/", requestOptions);\n      if (!response.ok) {\n        throw new Error("Server response was not ok.");\n      }\n      const contentDisposition = response.headers.get(\'Content-Disposition\');\n      let filename = \'downloaded_file\';\n      if (contentDisposition) {\n        const filenameMatch = contentDisposition.match(/filename="([^"]+)"/);\n        if (filenameMatch && filenameMatch[1]) {\n          filename = filenameMatch[1];\n        }\n      }\n      const reportFile = await response.arrayBuffer();\n      const blob = new Blob([reportFile]);\n      const downloadUrl = URL.createObjectURL(blob);\n      const a = document.createElement(\'a\');\n      a.href = downloadUrl;\n      a.download = filename;\n      document.body.appendChild(a);\n      a.click();\n      a.remove();\n    } catch (error) {\n      console.error("Error downloading the file:", error);\n    }\n  }\n  const handleDownload = () => {};\n  const ReportsListItem = () => {\n    const handleToggle = mid => {\n      const isOpen = openIndexes.includes(mid);\n      setOpenIndexes(isOpen ? openIndexes.filter(id => id !== mid) : [...openIndexes, mid]);\n    };\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_List__WEBPACK_IMPORTED_MODULE_3__["default"], {\n      sx: {\n        width: \'100%\',\n        bgcolor: \'background.paper\'\n      }\n    }, reportsHistoryList.map(item => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n      key: item.mid\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_ListItemButton__WEBPACK_IMPORTED_MODULE_4__["default"], {\n      onClick: () => handleToggle(item.mid)\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_ListItemIcon__WEBPACK_IMPORTED_MODULE_5__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_6__["default"], {\n      color: "error",\n      variant: "dot",\n      invisible: props.relationType === "Client" ? item.is_read : true\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_List__WEBPACK_IMPORTED_MODULE_7__["default"], null))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_ListItemText__WEBPACK_IMPORTED_MODULE_8__["default"], {\n      primary: item.subject,\n      secondary: item.create_time,\n      sx: {\n        overflowWrap: \'break-word\',\n        wordWrap: \'break-word\'\n      }\n    }), openIndexes.includes(item.mid) ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_ExpandLess__WEBPACK_IMPORTED_MODULE_9__["default"], null) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_ExpandMore__WEBPACK_IMPORTED_MODULE_10__["default"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_Collapse__WEBPACK_IMPORTED_MODULE_11__["default"], {\n      in: openIndexes.includes(item.mid),\n      timeout: "auto",\n      unmountOnExit: true\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_List__WEBPACK_IMPORTED_MODULE_3__["default"], {\n      component: "div",\n      disablePadding: true\n    }, item.reports.map(report => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(ListItem, {\n      key: report.rid,\n      sx: {\n        pl: 4,\n        display: \'flex\',\n        alignItems: \'center\'\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_ListItemIcon__WEBPACK_IMPORTED_MODULE_5__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_Description__WEBPACK_IMPORTED_MODULE_12__["default"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_ListItemText__WEBPACK_IMPORTED_MODULE_8__["default"], {\n      primary: report.name,\n      sx: {\n        overflowWrap: \'break-word\',\n        wordWrap: \'break-word\'\n      }\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_13__["default"], {\n      startIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_Download__WEBPACK_IMPORTED_MODULE_14__["default"], null),\n      size: "small",\n      variant: "outlined",\n      onClick: () => handleDownload(report.rid)\n    }, "Download"))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_15__["default"], null))));\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (props.selectedUser) {\n      props.relationType === "Client" ? ReceivedReportsGet(props.selectedUser, props.employerID) : ReceivedReportsGet(props.employerID, props.selectedUser);\n    }\n  }, [props.selectedUser]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (reportsHistoryList.length > 0) {\n      props.relationType === "Client" ? setReportUserName(reportsHistoryList[0].author) : setReportUserName(reportsHistoryList[0].recipient);\n    }\n  }, [reportsHistoryList]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_Paper__WEBPACK_IMPORTED_MODULE_16__["default"], {\n    style: {\n      height: \'calc(3/4 * 5/6 * 100vh)\',\n      marginRight: \'16px\',\n      marginLeft: props.relationType === "Client" ? \'16px\' : \'0px\',\n      marginTop: \'16px\',\n      overflow: \'auto\'\n    },\n    sx: {\n      border: \'1px solid\',\n      borderColor: \'divider\'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_styles__WEBPACK_IMPORTED_MODULE_1__.DrawerHeader, null, "Reports History with ", reportUserName), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_15__["default"], null), ReportsListItem());\n}\n\n//# sourceURL=webpack://frontend/./src/pages/People/ReportSharingWindow/SharingHistoryList/index.js?')},"./src/pages/People/ReportSharingWindow/SharingHistoryList/styles.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DrawerHeader: () => (/* binding */ DrawerHeader),\n/* harmony export */   StyledDrawer: () => (/* binding */ StyledDrawer),\n/* harmony export */   drawerWidth: () => (/* binding */ drawerWidth)\n/* harmony export */ });\n/* harmony import */ var _mui_system__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @mui/system */ \"./node_modules/@mui/system/esm/styled.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Drawer/Drawer.js\");\n\n\nconst drawerWidth = 200;\nconst StyledDrawer = (0,_mui_system__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_mui_material__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n  width: drawerWidth,\n  color: '#9ad9bd',\n  display: 'flex',\n  flexShrink: 0\n});\nconst DrawerHeader = (0,_mui_system__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('div')({\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  height: 64,\n  fontSize: 25\n});\n\n//# sourceURL=webpack://frontend/./src/pages/People/ReportSharingWindow/SharingHistoryList/styles.js?")}}]);